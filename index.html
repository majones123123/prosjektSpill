<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" type="text/css" href="style.css" />
    <title>Point & Click</title>
  </head>
  <body>
    <div id="body" onclick="endreBakgrunn()">
      <div class="container">
        <h1 class="hover-tekst" id="ramme">SPILL</h1>
      </div>
      <div id="tekstboks" onclick="fjerntekst(this)">
        <p class="fortelling">
          Du har tatt Galaxy Gass og har våknet opp et sted som du ikke kjenner
          igjen. Du ser en hytte, og lurer på om det er noen der. Du begynner å
          kjenne en kraftig kulde og du er bekymret for at du skal fryse i hjel.
          GÅ INN I HYTTA!!
        </p>
      </div>
      <div onclick="klikkBody(this)">
        <audio id="soundEffect">
          <source id="knapp1" src="Lyder/correct.mp3" type="audio/mpeg" />
          <source id="knapp2" src="Lyder/correct.mp3" type="audio/mpeg" />
          <source id="knapp3" src="Lyder/correct.mp3" type="audio/mpeg" />
          <source id="knapp4" src="Lyder/correct.mp3" type="audio/mpeg" />
          <source id="knapp5" src="Lyder/correct.mp3" type="audio/mpeg" />
          <source id="knapp6" src="Lyder/correct.mp3" type="audio/mpeg" />
        </audio>
        <audio id="wictory">
          <source src="Lyder/win.mp3" type="audio/mpeg" />
        </audio>
      </div>
    </div>

    <script>
      const soundEffect = document.getElementById("soundEffect");
      const sound = document.getElementById("correct");
      const wictory = document.getElementById("wictory");
      
      let executed = 0;
      let buttonclicks = 0;

      console.log(executed)

      document.getElementById("body").addEventListener("click", klikkBody);

      function fjerntekst(element) {
        element.style.display = "none";
      }

      function dorKlikket() {
        console.log(executed);
        document.getElementById("body").style.backgroundImage =
          'url("Bilder/insidecabin.jpeg")';
        fjerntekst(document.getElementById("tekstboks"));
        executed++;
      }

      function peisKlikket() {
        console.log(executed);
        if (executed > 2) {
          document.getElementById("body").style.backgroundImage =
            'url("Bilder/buttons.jpeg")';
          executed++;
        }

       
      }

      function knappKlikket() {
        console.log("knapp Klikket");
      }
      // Lyder for minigame
      function correct(Audio) {
        const audio = new Audio("Lyder/correct.mp3");
        number++;
      }
      function wrong(Audio) {
        const audio = new Audio("Lyder/wrong.mp3");
      }
      function win(Audio) {
        const audio = new Audio("Lyder/win.mp3");
      }

      function victoryscreen() {
        if (buttonclicks = 6){
          document.getElementById("body").style.backgroundImage = 'url("Bilder/victory.jpg")';
        }
      }

      // La seg klikke inn i hytta
      function klikkBody(event) {
        console.log(event);
        console.log("x:", event.clientX);
        console.log("y:", event.clientY);
        const x = event.clientX;
        const y = event.clientY;
        const f = event.clientX;
        const z = event.clientY;

        if (x > 650 && x < 670 && y > 424 && y < 472) {
          dorKlikket();
        }
        if (x > 850 && x < 880 && y > 424 && y < 472) {
          dorKlikket();
        }
        if (x > 773 && x < 801 && y > 528 && y < 580) {
          dorKlikket();
        }

        if (x > 621 && x < 727 && y > 449 && y < 540) {
          peisKlikket();
        }
        
        if (executed > 3 && buttonclicks < 6) {

          if (x > 466 && x < 600 && y > 240 && y < 440) {
            const knapp1 = document.getElementById("knapp1");
            soundEffect.play();
            buttonclicks++;
            console.log(buttonclicks);
          }
          if (x > 622 && x < 760 && y > 240 && y < 440) {
            const knapp2 = document.getElementById("knapp2");
            soundEffect.play();
            buttonclicks++;
            console.log(buttonclicks);
          }
          if (x > 778 && x < 916 && y > 240 && y < 440) {
            const knapp3 = document.getElementById("knapp3");
            soundEffect.play();
            buttonclicks++;
            console.log(buttonclicks);
          }
          if (x > 466 && x < 600 && y > 475 && y < 670) {
            const knapp4 = document.getElementById("knapp4");
            soundEffect.play();
            buttonclicks++;
            console.log(buttonclicks);
          }
          if (x > 622 && x < 760 && y > 475 && y < 670) {
            const knapp5 = document.getElementById("knapp5");
            soundEffect.play();
            buttonclicks++;
            console.log(buttonclicks);
          }
          if (x > 778 && x < 916 && y > 475 && y < 670) {
            const knapp6 = document.getElementById("knapp6");
            soundEffect.play();

            buttonclicks++;
            console.log(buttonclicks);
          }

          if (buttonclicks == 6){
            victoryscreen()
          }
        }
      }

      function endreBakgrunn() {
        //endrer bildet til en hytte i en klarning
        //console.log("Endrer bakgrunn");
        if (executed < 2) {
          console.log(executed);
          document.getElementById("body").style.backgroundImage =
            'url("Bilder/night_cabin.jpg")';
          document.getElementById("body").style.backgroundSize = "inherit";
          executed++;
        }

        //skjuler spill knappen
        const container = document.querySelector(".container");
        container.style.display = "none";

        // Legger til tekst som forteller om hva som skjer og hva du kan gjøre
        const fortelling = document.querySelector(".fortelling");
        fortelling.style.display = "block";
      }
      console.log("executed", executed)

      function gameOver() {
        console.log("Du tapte");
        document.getElementById("body").style.backgroundImage =
          'url("Bilder/gameover.jpg")';
        ('url("Bilder/gameover.jpg")');
      }
    </script>
  </body>
</html>
