<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" type="text/css" href="style.css" />
    <title>Point & Click</title>
  </head>
  <body>
    <div id="body" onclick="endreBakgrunn()">
      <div class="container">
        <h1 class="hover-tekst" id="ramme">SPILL</h1>
      </div>
      <div id="tekstboks" onclick="fjerntekst(this)">
        <div>
          <p class="fortelling">
            Du har tatt Galaxy Gass og har våknet opp et sted som du ikke kjenner igjen. Du ser en hytte, og lurer på om det er noen der.
            Du begynner å kjenne en kraftig kulde og du er bekymret for at du skal fryse i hjel. GÅ INN I HYTTA!!
          </p>
        </div>
      </div>
      <div id="tekstboks2" onclick="fjerntekst(this)">
        <div>
          <p class="fortelling">På en eller annen mystisk måte, er hytta større på innsiden enn den er på utsiden. 
            Du ser deg litt rundt og legger merke til noen rare merker på veggen over peisen.</p>
        </div>
      </div>
    </div>

    <script>
      document.getElementById("body").addEventListener("click", klikkBody);
      let executed = 0;

      function fjerntekst(element) {
        element.style.display = "none";
      }

      function dorKlikket() {
        console.log("Dør klikket");
        document.getElementById("body").style.backgroundImage = 'url("Bilder/insidecabin.jpeg")';
        fjerntekst(document.getElementById("tekstboks"));
        executed++;

      }
      
      function peisklikket() {
        console.log("Peis klikket");
        document.getElementById("body").style.backgroundImage = 'url("Bilder/buttons.png")';
        fjerntekst(document.getElementById("tekstboks2"));
        executed++;
      }

      function klikkBody(event) {
        console.log(event);
        console.log("x:", event.clientX);
        console.log("y:", event.clientY);
        const x = event.clientX;
        const y = event.clientY;
        
        if (x > 625 && x < 640 && y > 424 && y < 472) {
          dorKlikket()
        }
        if (x > 850 && x < 880 && y > 424 && y < 472) {
          dorKlikket()
        }
      }

      function endreBakgrunn() {
        //endrer bildet til en hytte i en klarning
        //console.log("Endrer bakgrunn");
        if (executed < 2) {
          document.getElementById("body").style.backgroundImage ='url("Bilder/night_cabin.jpg")';
          document.getElementById("body").style.backgroundSize = "inherit";
          executed++;
        }

        //skjuler spill knappen
        const container = document.querySelector(".container");
        container.style.display = "none";

        // Legger til tekst som forteller om hva som skjer og hva du kan gjøre
        const fortelling = document.querySelector(".fortelling");
        fortelling.style.display = "block";
      }

      function gameOver() {
        console.log("Du tapte");
        document.getElementById("body").style.backgroundImage = 'url("Bilder/gameover.jpg")'
          'url("Bilder/gameover.jpg")';
      }

      if (executed == 3) {
        document.getElementById("tekstboks2").style.display = "block";
      }



     </script>
  </body>
</html>
